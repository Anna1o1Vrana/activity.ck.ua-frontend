<app-layout>
  <div class="main-wrapper">
    <section class="filters">
      <div class="container">
        <div class="filters__wrapper">
          <h2 *ngIf="categoryName" class="filters__headline">Місце категорії: {{categoryName}}</h2>
          <a routerLink="/add_place" class="filters__link-add link">Додати локацію</a>
        </div>
        <div class="filters__wrapper">
          <app-filter-by-tolerance (toleranceStateChange)="updateFilterToleranceState($event)">
          </app-filter-by-tolerance>
          <app-filter-by-type (filterStateChange)="updateFilterTypeState($event)"
                              [categoryId]="categoryId" class="filters__filter-by-type">
          </app-filter-by-type>
        </div>
      </div>
    </section>
    <section class="places">
      <div class="container">
        <ul class="places__list">
          <li *ngFor="let place of places" class="places__item list">
            <div routerLink="{{place.id}}" class="places__img-wrapper link">
              <img src="{{place.main_photo}}" alt="" class="places__prev-photo">
            </div>
            <div class="places__about-info">
              <p class="places__about-info-headline">{{place.name}}</p>
              <p class="places__about-info-text">{{place.address}}</p>
              <p class="places__about-info-text">{{dateService.getWorkState(place.work_time)}}</p>

              <a href="tel:{{place.phones}}" class="places__about-info-text link">
                {{place.phones}}
              </a>
              <a href="{{place.website}}" class="places__about-info-text link">{{place.website}}</a>
            </div>
          </li>
        </ul>
        <app-pagination *ngIf="totalPages"
                        (paginationStateChange)="updatePaginationState($event)"
                        [filterTypeState]="filterTypeState"
                        [filterToleranceState]="filterToleranceState"
                        [totalPages]="totalPages"
                        [categoryId]="categoryId">
        </app-pagination>
      </div>
    </section>
  </div>
</app-layout>
